(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5904d16b"],{"035a":function(t,i,e){},"70f0":function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t._self._c;return i("div",[i("div",[t._v("投票列表")]),i("el-row",{staticClass:"row1",attrs:{type:"flex"}},t._l(t.topic,(function(e){return i("el-col",{key:e.topicId,attrs:{span:4}},[i("el-card",{attrs:{"body-style":{padding:"1px",margin:"1px"}}},[i("img",{staticClass:"image",attrs:{src:"https://api.dujin.org/pic/fengjing"}}),i("div",{staticStyle:{padding:"0px"}},[i("span",{staticClass:"topsize"},[t._v(t._s(e.topicName))]),i("div",{staticClass:"bottom clearfix"},[i("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(i){return t.toVote(e)}}},[t._v("投票")]),i("el-button",{staticClass:"button2",attrs:{type:"text"},on:{click:function(i){return t.getVoteResult(e)}}},[t._v("查看投票结果")])],1)])])],1)})),1),i("el-dialog",{attrs:{visible:t.VoteDialogVisible,width:"300px",center:"",title:t.temptopicName},on:{"update:visible":function(i){t.VoteDialogVisible=i}}},[t._l(t.options,(function(e,o){return i("div",{key:e.optionId,staticClass:"optdiv"},[i("el-radio",{staticClass:"radioSty",attrs:{label:e.optionId},model:{value:t.radio,callback:function(i){t.radio=i},expression:"radio"}},[t._v(t._s(t.getOption(o)+". "+e.optionDec))])],1)})),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(i){t.VoteDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.VoteSubmit}},[t._v("确 定")])],1)],2),i("el-dialog",{attrs:{visible:t.VoteResultVisible,width:"400px",center:"",title:t.temptopicName},on:{"update:visible":function(i){t.VoteResultVisible=i}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sum,"row-class-name":t.tableRowClassName}},[i("el-table-column",{attrs:{prop:"optionDec",label:"选项",width:"170"}}),i("el-table-column",{attrs:{prop:"optionSum",label:"投票人数",width:"170"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(i){t.VoteResultVisible=!1}}},[t._v("关 闭")])],1)],1)],1)},s=[],a=e("7555"),l={data(){return{VoteDialogVisible:!1,VoteResultVisible:!1,temptopicName:"",temptopicid:"",topic:[],options:[],radio:"",sum:[]}},methods:{tableRowClassName({rowIndex:t}){return 1===t?"warning-row":3===t?"success-row":""},async toVote(t){this.temptopicid=t.topicId;const i=await a["a"].checkIsVote(t.topicId);if(i.data.isvote)return ELEMENT.Message.info("已经投过票了！");this.temptopicName=t.topicName,this.VoteDialogVisible=!0;const e=await a["a"].getoptions(t.topicId);this.options=e.data.optionList},async getVoteResult(t){this.VoteResultVisible=!0,this.show=!0;const i=await a["a"].getVoteResult(t.topicId);if(1!=i.code)return this.$message.error("获取数据失败");this.sum=i.data.optionTableList},async getTitleList(){const t=await a["a"].getTopic();if(1!=t.code)return ELEMENT.Message.error("获取数据失败");this.topic=t.data.topic,ELEMENT.Message.success("获取数据成功")},async VoteSubmit(){if(""==this.radio)return ELEMENT.Message.error("没有选择投票选项");{const t=await a["a"].toVoteById(this.radio,this.temptopicid);1==t.code&&ELEMENT.Message.success("投票成功")}this.VoteDialogVisible=!this.VoteDialogVisible},getOption(t){const i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];return i[t]}},mounted(){this.getTitleList()}},n=l,c=(e("fc92"),e("2877")),r=Object(c["a"])(n,o,s,!1,null,null,null);i["default"]=r.exports},fc92:function(t,i,e){"use strict";e("035a")}}]);
//# sourceMappingURL=chunk-5904d16b.3cbae8c4.js.map